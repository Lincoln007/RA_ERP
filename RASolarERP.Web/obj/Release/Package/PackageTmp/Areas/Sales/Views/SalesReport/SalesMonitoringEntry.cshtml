@using RASolarERP.Model;
@{
    ViewBag.Title = "Daily Progress Review";
    Layout = "~/Areas/Sales/Views/Shared/_SalesLayout.cshtml";

    if (false)
    {
    <script src="../../../../Scripts/jquery-1.5.1.min.js" type="text/javascript"></script>

    }
}
@section TopMenu
{
    @Html.Partial((String)ViewBag.TopMenu)
}
@section LoginInfo
{
    <table cellpadding="0" cellspacing="0" border="0" style="text-align: right;" width="100%">
        <tr>
            <td style="width: 15%" align="left">
                @ViewBag.LocationTitle&nbsp; @ViewBag.Location
            </td>
            <td style="width: 15%" align="left">
                @ViewBag.ZoneTitle&nbsp; @ViewBag.ZoneName
            </td>
            <td style="width: 15%" align="left">
                @ViewBag.RegionTitle&nbsp; @ViewBag.RegionName
            </td>
            <td style="width: 55%" align="left">
                @ViewBag.UnitTitle&nbsp; @ViewBag.UnitName
            </td>
        </tr>
    </table>
}
<input id="hfMEmployee" type="hidden" value="@((string)ViewBag.UnitManager)"/>
<table cellpadding="0" cellspacing="0" border="0">
    @using (Html.BeginForm("SalesMonitoringEntry", "SalesMonitoring", FormMethod.Post))
    {
        
        <tr align="left">
            <td width="25%" align="left">
                Employee Name:
            </td>
            <td width="50%" align="left">
                @Html.DropDownList("ddlEmployee", new SelectList(@ViewBag.GetLocationWiseEmployee, "EMP_ID", "EMP_NAME", (string)TempData["LocationWiseEmployeeSelected"]), "--Select--")
            </td>
            <td width="25%" align="left">
                <input id="btnSearchEmployee" type="submit" value="Show" />
            </td>
        </tr>
        <tr>
            <td>
                &nbsp;
            </td>
            <td>
                &nbsp;
            </td>
        </tr>
        <tr align="left">
            <td align="left">
                Day Open
            </td>
            <td width="30%" align="left" style="background-color: #DBD7D9">
                @* @Html.Label("lblTransactionDate", TempData["PeriodOpenClose"].ToString() != null ? TempData["PeriodOpenClose"].ToString() : "")*@
                <span id="lblTransactionDate" style="font-size: medium">@(TempData["PeriodOpenClose"].ToString() != null ? TempData["PeriodOpenClose"].ToString() : "")</span>
            </td>
        </tr>
        <tr>
            <td>
                &nbsp;
            </td>
        </tr>
        
        <tr>
            <td align="left" style="background-color: #DBD7D9" colspan="4">
                <span id="IsEmployeeWiseTargetSettingCompleted" style="font-size: medium; background-color: #FFFF00;">@ViewBag.IsEmployeeWiseTargetSettingCompleted</span>
            </td>
        </tr>

        
    }
</table>
@{
    int v = 0;

    GetLocationNEmployeeWiseDailyEntry objLocationNEmployeeWiseDailyEntry = new GetLocationNEmployeeWiseDailyEntry();
    objLocationNEmployeeWiseDailyEntry = (GetLocationNEmployeeWiseDailyEntry)TempData["LocationNEmployeeWiseDailyEntry"];

    if (objLocationNEmployeeWiseDailyEntry == null)
    {
        v = 1;
    }
}
<form id="form1" action="SaveSalesMonitoringEntry" method="post">
<input id="hfEmployeeID" type="hidden" />
@if (objLocationNEmployeeWiseDailyEntry != null)
{ 
    <table class="hh1" width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
            <td class="salmonitoringHead1" width="25%" align="left">
                Overall Unit:
            </td>
        </tr>
        <tr>
            <td>
                <table id="hhh1" cellpadding="0" cellspacing="0" border="0">
                    <tr>
                        <td class="TitleSubHeaderStarting" width="25%">
                            Target vs Achievement
                        </td>
                        <td class="TitleSubHeader" width="25%">
                            Sales
                        </td>
                        <td class="TitleSubHeader" width="25%">
                            Current Collection
                        </td>
                        <td class="TitleSubHeader" width="25%">
                            Overdue Collection
                        </td>
                    </tr>
                    <tr>
                        <td colspan="4" style="height: 1px;">
                        </td>
                    </tr>
                    <tr style="background-color: #F3F4F8;">
                        <td align="left" width="25%" style="background-color: #DBD7D9">
                            Current Month Sales Target
                        </td>
                        <td width="25%" style="background-color: #DBD7D9" align="right">
                            @Html.Label("lblCurrentMonthSalesTargetUnit", objLocationNEmployeeWiseDailyEntry.LocationSalesCurrentMonthTarget != null ? objLocationNEmployeeWiseDailyEntry.LocationSalesCurrentMonthTarget.ToString() : "0")
                        </td>
                        <td width="25%" style="background-color: #DBD7D9" align="right">
                            @Html.Label("lblCurrentMonthCollectionTargetUnit", objLocationNEmployeeWiseDailyEntry.LocationRegColcCurrentMonthTarget != null ? objLocationNEmployeeWiseDailyEntry.LocationRegColcCurrentMonthTarget.ToString() : "0")
                        </td>
                        <td width="25%" style="background-color: #DBD7D9" align="right">
                            @Html.Label("lblCurrentMonthOverdueTargetUnit", objLocationNEmployeeWiseDailyEntry.LocationOverdueColcCurrentMonthTarget != null ? objLocationNEmployeeWiseDailyEntry.LocationOverdueColcCurrentMonthTarget.ToString() : "0")
                        </td>
                    </tr>
                    <tr>
                        <td colspan="4" style="height: 1px;">
                        </td>
                    </tr>
                    <tr>
                        <td align="left" width="25%" style="background-color: #DBD7D9">
                            Achievement upto Last Day
                        </td>
                        <td width="25%" style="background-color: #DBD7D9" align="right">
                            @Html.Label("lblAchievementUptoTodaySalesUnit", objLocationNEmployeeWiseDailyEntry.LocationSalesAchievementUptoLastDay != null ? objLocationNEmployeeWiseDailyEntry.LocationSalesAchievementUptoLastDay.ToString() : "0")
                        </td>
                        <td width="25%" style="background-color: #DBD7D9" align="right">
                            @Html.Label("lblAchievementUptoTodayCollectionUnit", objLocationNEmployeeWiseDailyEntry.LocationRegColcAchievementUptoLastDay != null ? objLocationNEmployeeWiseDailyEntry.LocationRegColcAchievementUptoLastDay.ToString() : "0")
                        </td>
                        <td width="25%" style="background-color: #DBD7D9" align="right">
                            @Html.Label("lblAchievementUptoTodayOverdueUnit", objLocationNEmployeeWiseDailyEntry.LocationOverdueColcAchievementUptoLastDay != null ? objLocationNEmployeeWiseDailyEntry.LocationOverdueColcAchievementUptoLastDay.ToString() : "0")
                        </td>
                    </tr>
                    <tr>
                        <td colspan="4" style="height: 1px;">
                        </td>
                    </tr>
                    <tr>
                        <td align="left" width="25%" style="background-color: #DBD7D9">
                            Achievement Today
                        </td>
                        <td width="25%" style="background-color: #DBD7D9" align="right">
                            @Html.Label("lblAchievementTodaySalesUnit", objLocationNEmployeeWiseDailyEntry.LocationSalesAchievementToday != null ? objLocationNEmployeeWiseDailyEntry.LocationSalesAchievementToday.ToString() : "0")
                        </td>
                        <td width="25%" style="background-color: #DBD7D9" align="right">
                            @Html.Label("lblAchievementTodayCollectionUnit", objLocationNEmployeeWiseDailyEntry.LocationRegColcAchievementToday != null ? objLocationNEmployeeWiseDailyEntry.LocationRegColcAchievementToday.ToString() : "0")
                        </td>
                        <td width="25%" style="background-color: #DBD7D9" align="right">
                            @Html.Label("lblAchievementTodayOverdueUnit", objLocationNEmployeeWiseDailyEntry.LocationOverdueColcAchievementToday != null ? objLocationNEmployeeWiseDailyEntry.LocationOverdueColcAchievementToday.ToString() : "0")
                        </td>
                    </tr>
                    <tr>
                        <td colspan="4" style="height: 1px;">
                        </td>
                    </tr>
                    <tr>
                        <td align="left" width="25%" style="background-color: #DBD7D9">
                            Achievement Status %
                        </td>
                        <td width="25%" style="background-color: #DBD7D9" align="right">
                            @Html.Label("lblAchievementStatusSalesUnit", objLocationNEmployeeWiseDailyEntry.LocationSalesAchievementStatus != null ? objLocationNEmployeeWiseDailyEntry.LocationSalesAchievementStatus.ToString() : "0")
                        </td>
                        <td width="25%" style="background-color: #DBD7D9" align="right">
                            @Html.Label("lblAchievementStatusCollectionUnit", objLocationNEmployeeWiseDailyEntry.LocationRegColcAchievementStatus != null ? objLocationNEmployeeWiseDailyEntry.LocationRegColcAchievementStatus.ToString() : "0")
                        </td>
                        <td width="25%" style="background-color: #DBD7D9" align="right">
                            @Html.Label("lblAchievementStatusOverdueUnit", objLocationNEmployeeWiseDailyEntry.LocationOverdueColcAchievementStatus != null ? objLocationNEmployeeWiseDailyEntry.LocationOverdueColcAchievementStatus.ToString() : "0")
                        </td>
                    </tr>
                    <tr>
                        <td colspan="4" style="height: 1px;">
                        </td>
                    </tr>
                    <tr>
                        <td align="left" width="25%">
                            System Return (Unit Total)
                        </td>
                        <td width="25%">
                            @Html.TextBox("txtSystemReturn", objLocationNEmployeeWiseDailyEntry.LocationSystemReturn != null ? objLocationNEmployeeWiseDailyEntry.LocationSystemReturn.ToString() : "", new { @style = "text-align: right; width: 247px;" })
                        </td>
                        <td width="25%" align="left">
                            System Re-Sale (Unit Total)
                        </td>
                        <td width="25%">
                            @Html.TextBox("txtSystemReSale", objLocationNEmployeeWiseDailyEntry.LocationSystemReSale != null ? objLocationNEmployeeWiseDailyEntry.LocationSystemReSale.ToString() : "", new { @style = "text-align: right; width: 247px;" })
                        </td>
                    </tr>
                    <tr>
                        <td colspan="4" style="height: 1px;">
                        </td>
                    </tr>
                    <tr>
                        <td width="25%" align="left">
                            Customer Training (Unit Total)
                        </td>
                        <td width="25%">
                            @Html.TextBox("txtCustomerTraining", objLocationNEmployeeWiseDailyEntry.LocationCustomerTraining != null ? objLocationNEmployeeWiseDailyEntry.LocationCustomerTraining.ToString() : "", new { @style = "text-align: right; width: 247px;" })
                        </td>
                        <td width="25%" align="left">
                            Bio-Gas Plant Installation (Unit Total)
                        </td>
                        <td width="25%">
                            @Html.TextBox("txtBioGasSale", objLocationNEmployeeWiseDailyEntry.LocationBioGasSales != null ? objLocationNEmployeeWiseDailyEntry.LocationBioGasSales.ToString() : "", new { @style = "text-align: right; width: 247px;" })
                        </td>
                    </tr>
                    <tr>
                        <td colspan="4" style="height: 1px;">
                        </td>
                    </tr>
                    <tr>
                        <td width="25%" align="left">
                            RSF Battery Sales (Unit Total)
                        </td>
                        <td width="25%">
                            @Html.TextBox("txtRSFBatterySales", objLocationNEmployeeWiseDailyEntry.LocationRSFBatterySales != null ? objLocationNEmployeeWiseDailyEntry.LocationRSFBatterySales.ToString() : "", new { @style = "text-align: right; width: 247px;" })
                        </td>
                        <td align="left" width="25%">
                            @Html.Label("lblRSFBatterySales", "")
                        </td>
                        <td width="25%">
                        </td>
                    </tr>
                    <tr>
                        <td colspan="4" style="height: 1px;">
                        </td>
                    </tr>
                    <tr>
                        <td width="25%">
                        </td>
                        <td width="25%">
                        </td>
                        <td width="25%">
                        </td>
                        <td width="25%" align="right">
                            <label for="checkBox">
                                Close This Day</label>
                            <input id="checkBox" name="checkBox" type="checkbox" value="true" />
                        </td>
                    </tr>
                    <tr>
                        <td colspan="4" style="height: 1px;">
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table> 
}
<br />
@if (objLocationNEmployeeWiseDailyEntry != null)
{
    <table class="hh12" width="100%" cellpadding="" cellspacing="0" border="0">
        <tr>
            <td class="salmonitoringHead1" width="25%" align="left">
                Employee Wise:
            </td>
        </tr>
        <tr>
            <td>
                <table id="hhh2" cellpadding="0" cellspacing="0" border="0">
                    <tr>
                        <td class="TitleSubHeaderStarting" width="25%">
                            <u>Today's update: </u>
                        </td>
                    </tr>
                    <tr>
                        <td class="TitleSubHeaderStarting" width="25%">
                            Target vs Achievement
                        </td>
                        <td class="TitleSubHeader" width="25%">
                            Sales
                        </td>
                        <td class="TitleSubHeader" width="25%">
                            Current Collection
                        </td>
                        <td class="TitleSubHeader" width="25%">
                            Overdue Collection
                        </td>
                    </tr>
                    <tr>
                        <td colspan="4" style="height: 1px;">
                        </td>
                    </tr>
                    <tr>
                        <td align="left" width="25%" style="background-color: #DBD7D9">
                            Current Month Sales Target
                        </td>
                        <td width="25%" style="background-color: #DBD7D9" align="right">
                            @Html.Label("lblCurrentMonthSalesTarget", objLocationNEmployeeWiseDailyEntry.EMP_SalesCurrentMonthTarget != null ? objLocationNEmployeeWiseDailyEntry.EMP_SalesCurrentMonthTarget.ToString() : "0")
                        </td>
                        <td width="25%" style="background-color: #DBD7D9" align="right">
                            @Html.Label("lblCurrentMonthCollectionTarget", objLocationNEmployeeWiseDailyEntry.EMP_RegColcCurrentMonthTarget != null ? objLocationNEmployeeWiseDailyEntry.EMP_RegColcCurrentMonthTarget.ToString() : "0")
                        </td>
                        <td width="25%" style="background-color: #DBD7D9" align="right">
                            @Html.Label("lblCurrentMonthOverdueTarget", objLocationNEmployeeWiseDailyEntry.EMP_OverdueColcCurrentMonthTarget != null ? objLocationNEmployeeWiseDailyEntry.EMP_OverdueColcCurrentMonthTarget.ToString() : "0")
                        </td>
                    </tr>
                    <tr>
                        <td colspan="4" style="height: 1px;">
                        </td>
                    </tr>
                    <tr>
                        <td align="left" width="25%" style="background-color: #DBD7D9">
                            Achievement upto Last Day
                        </td>
                        <td width="25%" style="background-color: #DBD7D9" align="right">
                            @Html.Label("lblAchievementUptoTodaySales", objLocationNEmployeeWiseDailyEntry.EMP_SalesAchievementUptoLastDay != null ? objLocationNEmployeeWiseDailyEntry.EMP_SalesAchievementUptoLastDay.ToString() : "0")
                        </td>
                        <td width="25%" style="background-color: #DBD7D9" align="right">
                            @Html.Label("lblAchievementUptoTodayCollection", objLocationNEmployeeWiseDailyEntry.EMP_RegColcAchievementUptoLastDay != null ? objLocationNEmployeeWiseDailyEntry.EMP_RegColcAchievementUptoLastDay.ToString() : "0")
                        </td>
                        <td width="25%" style="background-color: #DBD7D9" align="right">
                            @Html.Label("lblAchievementUptoTodayOverdue", objLocationNEmployeeWiseDailyEntry.EMP_OverdueColcAchievementUptoLastDay != null ? objLocationNEmployeeWiseDailyEntry.EMP_OverdueColcAchievementUptoLastDay.ToString() : "0")
                        </td>
                    </tr>
                    <tr>
                        <td colspan="4" style="height: 1px;">
                        </td>
                    </tr>
                    <tr>
                        <td align="left" width="25%">
                            Achievement Today
                        </td>
                        <td width="25%" align="left">
                            @Html.TextBox("txtAchievementTodaySales", objLocationNEmployeeWiseDailyEntry.EMP_SalesAchievementToday != null ? objLocationNEmployeeWiseDailyEntry.EMP_SalesAchievementToday : 0, new { @style = "text-align: right; width: 247px;" })
                        </td>
                        <td width="25%" align="left">
                            @Html.TextBox("txtAchievementTodayCollection", objLocationNEmployeeWiseDailyEntry.EMP_RegColcAchievementToday != null ? objLocationNEmployeeWiseDailyEntry.EMP_RegColcAchievementToday : 0, new { @style = "text-align: right; width: 247px;" })
                        </td>
                        <td width="25%" align="left">
                            @Html.TextBox("txtAchievementTodayOverdue", objLocationNEmployeeWiseDailyEntry.EMP_OverdueColcAchievementToday != null ? objLocationNEmployeeWiseDailyEntry.EMP_OverdueColcAchievementToday : 0, new { @style = "text-align: right; width: 247px;" })
                        </td>
                    </tr>
                    <tr>
                        <td colspan="4" style="height: 1px;">
                        </td>
                    </tr>
                    <tr>
                        <td align="left" width="25%" style="background-color: #DBD7D9">
                            Achievement Status %
                        </td>
                        <td width="25%" style="background-color: #DBD7D9" align="right">
                            @Html.Label("lblAchievementStatusSales", objLocationNEmployeeWiseDailyEntry.EMP_SalesAchievementStatus != null ? objLocationNEmployeeWiseDailyEntry.EMP_SalesAchievementStatus.ToString() : "0")
                        </td>
                        <td width="25%" style="background-color: #DBD7D9" align="right">
                            @Html.Label("lblAchievementStatusCollection", objLocationNEmployeeWiseDailyEntry.EMP_RegColcAchievementStatus != null ? objLocationNEmployeeWiseDailyEntry.EMP_RegColcAchievementStatus.ToString() : "0")
                        </td>
                        <td width="25%" style="background-color: #DBD7D9" align="right">
                            @Html.Label("lblAchievementStatusOverdue", objLocationNEmployeeWiseDailyEntry.EMP_OverdueColcAchievementStatus != null ? objLocationNEmployeeWiseDailyEntry.EMP_OverdueColcAchievementStatus.ToString() : "0")
                        </td>
                    </tr>
                    <tr>
                        <td colspan="4" style="height: 1px;">
                        </td>
                    </tr>
                    <tr>
                        <td align="left" width="25%">
                            TA
                        </td>
                        <td width="25%">
                            @Html.TextBox("txtTA", objLocationNEmployeeWiseDailyEntry.EMP_TA != null ? Convert.ToInt32(objLocationNEmployeeWiseDailyEntry.EMP_TA) : 0, new { @style = "text-align: right; width: 247px;" })
                        </td>
                        <td width="25%">
                            @Html.DropDownList("ddlTA", new List<SelectListItem>{
                               
                                        new SelectListItem{Text="--Select Reason For TA--",Value="" , Selected= objLocationNEmployeeWiseDailyEntry.EMP_ReasonForTA == null ? true : false},
                                        new SelectListItem{Text="Sales", Value="Sales", Selected= objLocationNEmployeeWiseDailyEntry.EMP_ReasonForTA == "Sales" ? true : false},
                                        new SelectListItem{Text="Collection", Value="Collection",  Selected= objLocationNEmployeeWiseDailyEntry.EMP_ReasonForTA == "Collection" ? true : false},
                                        new SelectListItem{Text="Servicing", Value="Servicing", Selected= objLocationNEmployeeWiseDailyEntry.EMP_ReasonForTA == "Servicing" ? true : false},
                                        new SelectListItem{Text="Bank", Value="Collection",  Selected= objLocationNEmployeeWiseDailyEntry.EMP_ReasonForTA == "Bank" ? true : false},
                                        new SelectListItem{Text="Others", Value="Others",  Selected= objLocationNEmployeeWiseDailyEntry.EMP_ReasonForTA == "Others" ? true : false}
                                   })
                        </td>
                        <td width="25%">
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td style="height: 2px;">
            </td>
        </tr>
        <tr>
            <td>
                <table width="100%" cellpadding="0" cellspacing="0" border="0">
                    <tr>
                        <td class="TitleSubHeader" style="text-align: left" width="100%">
                            Next Day Activity
                        </td>
                    </tr>
                    <tr>
                        <td valign="top" width="100%">
                            <table id="hh4" width="100%" cellpadding="0" cellspacing="0" border="0">
                                <tr>
                                    <td align="left" width="25%">
                                        System Installation
                                    </td>
                                    <td width="25%" align="left">
                                        @Html.DropDownList("ddlSystemInstallation", new List<SelectListItem>{
                               
                                        new SelectListItem{Text="--Select--",Value="" , Selected= objLocationNEmployeeWiseDailyEntry.EMP_SystemInstallation == null ? true : false},
                                        new SelectListItem{Text="Yes", Value="1", Selected= objLocationNEmployeeWiseDailyEntry.EMP_SystemInstallation == true ? true : false},
                                        new SelectListItem{Text="No", Value="0",  Selected= objLocationNEmployeeWiseDailyEntry.EMP_SystemInstallation == false ? true : false}
                                   })
                                    </td>
                                    <td align="left" width="25%">
                                        Installment Collection
                                    </td>
                                    <td width="25%" class="DropDown" align="left">
                                        @Html.DropDownList("ddlInstallmentCollection", new List<SelectListItem>{
                               
                                        new SelectListItem{Text="--Select--",Value="" , Selected= objLocationNEmployeeWiseDailyEntry.EMP_InstallmentCollection == null ? true : false},
                                        new SelectListItem{Text="Yes", Value="1", Selected= objLocationNEmployeeWiseDailyEntry.EMP_InstallmentCollection == true ? true : false},
                                        new SelectListItem{Text="No", Value="0",  Selected= objLocationNEmployeeWiseDailyEntry.EMP_InstallmentCollection == false ? true : false}
                                        
                               })
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="4" style="height: 1px;">
                                    </td>
                                </tr>
                                <tr>
                                    <td align="left" width="25%">
                                        Customer visit for marketing
                                    </td>
                                    <td width="25%" align="left">
                                        @Html.DropDownList("ddlCustomerVisit", new List<SelectListItem>{
                               
                                        new SelectListItem{Text="--Select--",Value="" , Selected= objLocationNEmployeeWiseDailyEntry.EMP_CustomerVisitForMarketing == null ? true : false},
                                        new SelectListItem{Text="Yes", Value="1", Selected= objLocationNEmployeeWiseDailyEntry.EMP_CustomerVisitForMarketing == true ? true : false},
                                        new SelectListItem{Text="No", Value="0",  Selected= objLocationNEmployeeWiseDailyEntry.EMP_CustomerVisitForMarketing == false ? true : false}
                                   })
                                    </td>
                                    <td align="left" width="25%">
                                        Meeting
                                    </td>
                                    <td width="25%" class="DropDown" align="left">
                                        @Html.DropDownList("ddlMeeting", new List<SelectListItem>{
                               
                                        new SelectListItem{Text="--Select--",Value="" , Selected= objLocationNEmployeeWiseDailyEntry.EMP_Meeting == null ? true : false},
                                        new SelectListItem{Text="Yes", Value="1", Selected= objLocationNEmployeeWiseDailyEntry.EMP_Meeting == true ? true : false},
                                        new SelectListItem{Text="No", Value="0",  Selected= objLocationNEmployeeWiseDailyEntry.EMP_Meeting == false ? true : false}
                                   })
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="4" style="height: 1px;">
                                    </td>
                                </tr>
                                <tr>
                                    <td align="left" width="25%">
                                        Maintenance/ Servicing
                                    </td>
                                    <td width="25%" align="left">
                                        @Html.DropDownList("ddlMaintenance", new List<SelectListItem>{
                               
                                        new SelectListItem{Text="--Select--",Value="" , Selected= objLocationNEmployeeWiseDailyEntry.EMP_MaintenanceServicing == null ? true : false},
                                        new SelectListItem{Text="Yes", Value="1", Selected= objLocationNEmployeeWiseDailyEntry.EMP_MaintenanceServicing == true ? true : false},
                                        new SelectListItem{Text="No", Value="0",  Selected= objLocationNEmployeeWiseDailyEntry.EMP_MaintenanceServicing == false ? true : false}
                                   })
                                    </td>
                                    <td align="left" width="25%">
                                        Leave
                                    </td>
                                    <td width="25%" align="left">
                                        @Html.DropDownList("ddlLeave", new List<SelectListItem>{
                               
                                        new SelectListItem{Text="--Select--",Value="" , Selected= objLocationNEmployeeWiseDailyEntry.EMP_WasInLeave == null ? true : false},
                                        new SelectListItem{Text="Yes", Value="1", Selected= objLocationNEmployeeWiseDailyEntry.EMP_WasInLeave == true ? true : false},
                                        new SelectListItem{Text="No", Value="0",  Selected= objLocationNEmployeeWiseDailyEntry.EMP_WasInLeave == false ? true : false}
                                   })
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="4" style="height: 1px;">
                                    </td>
                                </tr>
                                <tr>
                                    <td align="left" width="25%">
                                        Bank Operation %
                                    </td>
                                    <td width="25%" align="left">
                                        @Html.DropDownList("ddlBankOperation", new List<SelectListItem>{
                               
                                        new SelectListItem{Text="--Select--",Value="" , Selected= objLocationNEmployeeWiseDailyEntry.EMP_BankOperation == null ? true : false},
                                        new SelectListItem{Text="Yes", Value="1", Selected= objLocationNEmployeeWiseDailyEntry.EMP_BankOperation == true ? true : false},
                                        new SelectListItem{Text="No", Value="0",  Selected= objLocationNEmployeeWiseDailyEntry.EMP_BankOperation == false ? true : false}
                                   })
                                    </td>
                                    <td align="left" width="25%">
                                        Desk Works
                                    </td>
                                    <td width="25%" align="left">
                                        @Html.DropDownList("ddlDeskWork", new List<SelectListItem>{
                               
                                        new SelectListItem{Text="--Select--",Value="" , Selected= objLocationNEmployeeWiseDailyEntry.EMP_DeskWorks == null ? true : false},
                                        new SelectListItem{Text="Yes", Value="1", Selected= objLocationNEmployeeWiseDailyEntry.EMP_DeskWorks == true ? true : false},
                                        new SelectListItem{Text="No", Value="0",  Selected= objLocationNEmployeeWiseDailyEntry.EMP_DeskWorks == false ? true : false}
                                   })
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="4" style="height: 1px;">
                                    </td>
                                </tr>
                                <tr>
                                    <td align="left" width="25%">
                                        Official visit to other location
                                    </td>
                                    <td width="25%" align="left">
                                        @Html.DropDownList("ddlOfficialVisit", new List<SelectListItem>{
                               
                                        new SelectListItem{Text="--Select--",Value="" , Selected= objLocationNEmployeeWiseDailyEntry.EMP_OfficialVisitToOtherUnit == null ? true : false},
                                        new SelectListItem{Text="Yes", Value="1", Selected= objLocationNEmployeeWiseDailyEntry.EMP_OfficialVisitToOtherUnit == true ? true : false},
                                        new SelectListItem{Text="No", Value="0",  Selected= objLocationNEmployeeWiseDailyEntry.EMP_OfficialVisitToOtherUnit == false ? true : false}
                                   })
                                    </td>
                                    <td align="left" width="25%">
                                        Remarks
                                    </td>
                                    <td width="25%">
                                        @Html.TextBox("txtRemarks", objLocationNEmployeeWiseDailyEntry.EMP_Remarks != null ? objLocationNEmployeeWiseDailyEntry.EMP_Remarks : "", new { @style = "width: 247px;" })
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>   
}
@if (objLocationNEmployeeWiseDailyEntry != null)
{   
    <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
            <td width="25%">
                &nbsp;
            </td>
            <td width="25%">
                &nbsp;
            </td>
            <td width="25%">
                &nbsp;
            </td>
            <td width="25%" align="right">
                <input id="btnSaveEmployee" type="submit" value="Save" onclick="return SalesMonitoringValidation();" />
            </td>
        </tr>
    </table>   
    
}
</form>
<script type="text/javascript">

    function SalesMonitoringValidation() {
        var taAmount = $('#txtTA').val();
        var TAReason = $('#ddlTA').val();
        var Leave = $('#ddlLeave').val();

        if (parseInt(taAmount) >= 1) {

            if ((TAReason).toString() == "") {
                alert("Please Select Reason for TA ");
                return false;
            }
        }

        if ((TAReason).toString() != "") {
            if (parseInt(taAmount) <= 1) {
                alert("Please Enter TA Amount for this Selected Reason for TA");
                return false;
            }
        }

        if (parseInt(taAmount) <= 0 && (TAReason).toString() != "") {
            alert("Negative/Empty value is not supported for TA");
            return false;
        }
        //alert(Leave);

        if (Leave == true) {

            var SystemInstallation = $('#ddlSystemInstallation').val();
            var CustomerVisit = $('#ddlCustomerVisit').val();
            var Maintenance = $('#ddlMaintenance').val();
            var BankOperation = $('#ddlBankOperation').val();
            var OfficialVisit = $('#ddlOfficialVisit').val();
            var Meeting = $('#ddlMeeting').val();


            var InstallmentCollection = $('#ddlInstallmentCollection').val();
            var Leave = $('#ddlLeave').val();
            var DeskWork = $('#ddlDeskWork').val();
            var Remarks = $('#txtRemarks').val();

            if (SystemInstallation != "") {
                alert("Next day Activity will not be Saved for on leave Employee. Please check..");
                return false;
            }
            else if (CustomerVisit != "") {
                alert("Next day Activity will not be Saved for on leave Employee. Please check..");
                return false;
            }
            else if (Maintenance != "") {
                alert("Next day Activity will not be Saved for on leave Employee. Please check..");
                return false;
            }
            else if (BankOperation != "") {
                alert("Next day Activity will not be Saved for on leave Employee. Please check..");
                return false;
            }
            else if (OfficialVisit != "") {
                alert("Next day Activity will not be Saved for on leave Employee. Please check..");
                return false;
            }
            else if (Meeting != "") {
                alert("Next day Activity will not be Saved for on leave Employee. Please check..");
                return false;
            }
            else if (InstallmentCollection != "") {
                alert("Next day Activity will not be Saved for on leave Employee. Please check..");
                return false;
            }
            else if (DeskWork != "") {
                alert("Next day Activity will not be Saved for on leave Employee. Please check..");
                return false;
            }
            
        }
        return true;
    }

    if ($('#hfMEmployee').val() != "0") {

        var vs = $('#hfMEmployee').val();

        if ($('#ddlEmployee').val() == vs) {
            $('#txtSystemReturn').attr('disabled', false);
            $('#txtSystemReSale').attr('disabled', false);
            $('#txtCustomerTraining').attr('disabled', false);
            $('#txtBioGasSale').attr('disabled', false);
            $('#txtRSFBatterySales').attr('disabled', false);
            $('#checkBox').attr('disabled', false);
        }
        else {
            $('#txtSystemReturn').attr('disabled', true);
            $('#txtSystemReSale').attr('disabled', true);
            $('#txtCustomerTraining').attr('disabled', true);
            $('#txtBioGasSale').attr('disabled', true);
            $('#txtRSFBatterySales').attr('disabled', true);
            $('#checkBox').attr('disabled', true);
        }
    }

    if ($('#IsEmployeeWiseTargetSettingCompleted').text() != "") {

        $('#btnSearchEmployee').attr('disabled', true);

    }

    $(document).ready(function () {

        $('#ddlEmployee').change(function () {

            var vs = $('#hfMEmployee').val();

        });


        $('#form1').submit(function () {

            $('#hfEmployeeID').val = $('#ddlEmployee').val();
            var EmployeeID = $('#ddlEmployee').val();
            var SystemInstallation = $('#ddlSystemInstallation').val();
            var CustomerVisit = $('#ddlCustomerVisit').val();
            var Maintenance = $('#ddlMaintenance').val();
            var BankOperation = $('#ddlBankOperation').val();
            var OfficialVisit = $('#ddlOfficialVisit').val();
            var Meeting = $('#ddlMeeting').val();
            var TAAmount = $('#txtTA').val();
            var TAReason = $('#ddlTA').val();
            var InstallmentCollection = $('#ddlInstallmentCollection').val();
            var Leave = $('#ddlLeave').val();
            var DeskWork = $('#ddlDeskWork').val();
            var Remarks = $('#txtRemarks').val();
            var DataEntryinERP = $('#ddlDataEntryinERP').val();
            var SystemReturn = $('#txtSystemReturn').val();
            var SystemReSale = $('#txtSystemReSale').val();
            var CustomerTraining = $('#txtCustomerTraining').val();
            var BioGasSale = $('#txtBioGasSale').val();
            var RSFBatterySales = $('#txtRSFBatterySales').val();
            var CloseCheckBox = false;

            //alert(OfficialVisit);

            CloseCheckBox = $('#checkBox').is(':checked');
            var TransactionDate = $('#lblTransactionDate').text();


            $.post('@Url.Action("SaveSalesMonitoringEntry", "SalesMonitoring")', { EmployeeID: $('#ddlEmployee').val(), AchievementTodaySales: $('#txtAchievementTodaySales').val(),
                AchievementTodayCollection: $('#txtAchievementTodayCollection').val(), AchievementTodayOverdue: $('#txtAchievementTodayOverdue').val(), SystemInstallation: SystemInstallation,
                CustomerVisit: CustomerVisit, Maintenance: Maintenance, BankOperation: BankOperation, OfficialVisit: OfficialVisit, Meeting: Meeting, TAAmount: TAAmount, Leave: Leave,
                DeskWork: DeskWork, Remarks: Remarks, DataEntryinERP: DataEntryinERP, SystemReturn: SystemReturn, SystemReSale: SystemReSale, CustomerTraining: CustomerTraining, BioGasSale: BioGasSale,
                RSFBatterySales: RSFBatterySales, CloseCheckBox: CloseCheckBox, TransactionDate: TransactionDate, TAReason: TAReason, InstallmentCollection: InstallmentCollection
            }, function (data) {

                alert(data)
            });
            return false;

        });



    });

    function DailyActivities(goFor) {

        if (goFor == "SME") {
            var url = "../../Sales/SalesMonitoring/SalesMonitoringEntry";
            window.location.replace(url);

            return false;
        }
        else if (goFor == "EWTE") {
            var url = "../../Sales/SalesMonitoring/EmployeeWiseTargetEntry";
            window.location.replace(url);

            return false;
        }
    }   

</script>
